<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Plotting with Makie.jl · Seis.jl documentation</title><meta name="title" content="Plotting with Makie.jl · Seis.jl documentation"/><meta property="og:title" content="Plotting with Makie.jl · Seis.jl documentation"/><meta property="twitter:title" content="Plotting with Makie.jl · Seis.jl documentation"/><meta name="description" content="Documentation for Seis.jl documentation."/><meta property="og:description" content="Documentation for Seis.jl documentation."/><meta property="twitter:description" content="Documentation for Seis.jl documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Seis.jl documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../manual/">Manual</a></li><li><a class="tocitem" href="../plotting-plots/">Plotting with Plots.jl</a></li><li class="is-active"><a class="tocitem" href>Plotting with Makie.jl</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Makie-backends"><span>Makie backends</span></a></li><li><a class="tocitem" href="#Plotting-functions"><span>Plotting functions</span></a></li><li><a class="tocitem" href="#Layouts"><span>Layouts</span></a></li></ul></li><li><a class="tocitem" href="../function-index/">Function index</a></li><li><a class="tocitem" href="../internal-index/">Internals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Plotting with Makie.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Plotting with Makie.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/anowacki/Seis.jl.git" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Plotting-with-Makie.jl"><a class="docs-heading-anchor" href="#Plotting-with-Makie.jl">Plotting with Makie.jl</a><a id="Plotting-with-Makie.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-with-Makie.jl" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>Seis comes with two kinds of plotting functionality. The second, experimental kind relies on <a href="https://docs.makie.org/stable/">Makie</a>.  To create plots with Seis and Makie.jl, first install one of the Makie backends (see below):</p><pre><code class="nohighlight hljs">import Pkg
Pkg.add(&quot;GLMakie&quot;)</code></pre><p>Whenever you wish to create plots, do e.g.</p><pre><code class="nohighlight hljs">julia&gt; using Seis, GLMakie</code></pre><p>The other Plots-based function is described <a href="../plotting-plots/#Plotting-with-Plots.jl">here</a>.</p><h2 id="Makie-backends"><a class="docs-heading-anchor" href="#Makie-backends">Makie backends</a><a id="Makie-backends-1"></a><a class="docs-heading-anchor-permalink" href="#Makie-backends" title="Permalink"></a></h2><p>The Makie plotting ecosystem relies on the user loading one or more different &#39;backend&#39; packages which implement the plotting commands in different ways.  The <a href="https://docs.makie.org/stable/explanations/backends/backends">Makie backend documentation</a> describes the different choices and how to switch between them.  For the purposes of this documentation, however, we will consider two backends:</p><ul><li>GLMakie: Allows interactive plotting; can only save bitmap figures</li><li>CairoMakie: Non-interactive; can save vector graphics for publications and presentation</li></ul><p>In your project which uses Seis.jl, you should add then import one or more of these as shown above.</p><p>The figures produced here were made using CairoMakie unless otherwise noted.</p><div class="admonition is-info" id="Note-c51987d3f64d868c"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-c51987d3f64d868c" title="Permalink"></a></header><div class="admonition-body"><p>In the documentation below, wherever you see <code>Makie</code>, this represents whichever Makie backend module you have loaded.  In some cases, Seis.jl extends Makie functions with methods for Seis.jl objects</p></div></div><h2 id="Plotting-functions"><a class="docs-heading-anchor" href="#Plotting-functions">Plotting functions</a><a id="Plotting-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-functions" title="Permalink"></a></h2><h3 id="New-figure-or-existing-axis?"><a class="docs-heading-anchor" href="#New-figure-or-existing-axis?">New figure or existing axis?</a><a id="New-figure-or-existing-axis?-1"></a><a class="docs-heading-anchor-permalink" href="#New-figure-or-existing-axis?" title="Permalink"></a></h3><p>The Makie plotting functions mostly come in two flavours—one which adds a plot into an existing axis (and ends with <code>!</code>, such as <a href="#Seis.plot_section!"><code>plot_section!</code></a>), and another without a <code>!</code> which creates a returns a new <code>Makie.Figure</code> object, such as <a href="#Seis.plot_section"><code>plot_section</code></a>.  We discuss the new-figure versions below.</p><h3 id="Makie.plot:-Default-plot"><a class="docs-heading-anchor" href="#Makie.plot:-Default-plot"><code>Makie.plot</code>: Default plot</a><a id="Makie.plot:-Default-plot-1"></a><a class="docs-heading-anchor-permalink" href="#Makie.plot:-Default-plot" title="Permalink"></a></h3><p>Seis.jl extends <code>Makie.plot</code> to produce the default kind of plot for whatever Seis.jl types are passed to it.  At present, it will forward to <code>plot_traces</code> for single or array of <code>AbstractTrace</code>s.</p><h3 id="plot_traces:-Single-trace-plots"><a class="docs-heading-anchor" href="#plot_traces:-Single-trace-plots"><code>plot_traces</code>: Single-trace plots</a><a id="plot_traces:-Single-trace-plots-1"></a><a class="docs-heading-anchor-permalink" href="#plot_traces:-Single-trace-plots" title="Permalink"></a></h3><p><code>plot_traces</code> creates a set of single-trace plots where the independent (x) axis is time, and the dependent (y) axis is the value of the trace, similar to simply plotting <code>trace(t)</code> against <code>times(t)</code>.</p><p>However, <code>plot_traces</code> when applied to a single <code>Trace</code> or an <code>AbstractArray{&lt;:Trace}</code> offers options to scale plots relatively, show pick times, and so on.</p><p>(Note that there is no in-place version of <code>plot_traces</code> because it requires several axes.)</p><h4 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h4><p>1: A simple plot for a single trace, showing the picks.</p><pre><code class="language-julia hljs">using Seis, CairoMakie
t = sample_data()
plot_traces(t)</code></pre><img src="a0c0373d.png" alt="Example block output"/><p>2: Plot the vertical components for an earthquake with the distance    in km and station code labelled.</p><pre><code class="language-julia hljs">t = sample_data(:regional)
z = filter(x -&gt; endswith(x.sta.cha, &quot;z&quot;), t)
labels = z.sta.sta .* &quot;, ∆ = &quot; .* string.(round.(distance_km.(z), digits=1)) .* &quot;km&quot;
plot_traces(z; label=labels, sort=:dist)</code></pre><img src="10e74e8b.png" alt="Example block output"/><p>3: Same again, but showing the falloff in amplitude with distance by    setting all plots to have the same scale with the <code>ylims</code> option:</p><pre><code class="language-julia hljs">plot_traces(z; label=labels, sort=:dist, ylims=:all)</code></pre><img src="0d0cf472.png" alt="Example block output"/><h4 id="Full-docstring"><a class="docs-heading-anchor" href="#Full-docstring">Full docstring</a><a id="Full-docstring-1"></a><a class="docs-heading-anchor-permalink" href="#Full-docstring" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Seis.plot_traces" href="#Seis.plot_traces"><code>Seis.plot_traces</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_traces</code></pre><p>Function to plot several traces which can be used once you have loaded a <a href="https://docs.makie.org/stable">Makie</a> backend (e.g., via <code>using GLMakie</code>, <code>using CairoMakie</code>, etc.).</p><p>See docstrings below after loading a Makie backend for more information.</p></div></section></article><h3 id="plot_section:-Record-sections"><a class="docs-heading-anchor" href="#plot_section:-Record-sections"><code>plot_section</code>: Record sections</a><a id="plot_section:-Record-sections-1"></a><a class="docs-heading-anchor-permalink" href="#plot_section:-Record-sections" title="Permalink"></a></h3><p><code>section</code> plots a &#39;record section&#39;, or a set of traces where a trace&#39;s position on the y-axis is determined by some other information.</p><p>Typically record sections show traces against distance, but <code>section</code> supports arbitrary values or functions to place the traces.</p><p>To align traces, pass a set of values to the <code>align</code> keyword argument.</p><h4 id="Examples-2"><a class="docs-heading-anchor" href="#Examples-2">Examples</a><a class="docs-heading-anchor-permalink" href="#Examples-2" title="Permalink"></a></h4><h5 id="1.-Simple-distance-record-section"><a class="docs-heading-anchor" href="#1.-Simple-distance-record-section">1. Simple distance record section</a><a id="1.-Simple-distance-record-section-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Simple-distance-record-section" title="Permalink"></a></h5><p>Using the radial components of a regional earthquake.</p><pre><code class="language-julia hljs">t = sample_data(:regional)
e, n, z = t[1:3:end], t[2:3:end], t[3:3:end]
rotate_to_gcp!.(e, n)
r, t = e, n
plot_section(r)</code></pre><img src="f30885b1.png" alt="Example block output"/><h5 id="2.-Normalised-section"><a class="docs-heading-anchor" href="#2.-Normalised-section">2. Normalised section</a><a id="2.-Normalised-section-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Normalised-section" title="Permalink"></a></h5><p>Same again, but with traces <a href="../function-index/#Seis.normalise"><code>normalise</code></a>d so that the amplitudes are more similar.</p><pre><code class="language-julia hljs">plot_section(r .|&gt; normalise)</code></pre><img src="dc03c05b.png" alt="Example block output"/><h5 id="3.-Record-section-aligned-on-a-set-of-picks"><a class="docs-heading-anchor" href="#3.-Record-section-aligned-on-a-set-of-picks">3. Record section aligned on a set of picks</a><a id="3.-Record-section-aligned-on-a-set-of-picks-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Record-section-aligned-on-a-set-of-picks" title="Permalink"></a></h5><p>Let us use the picks stored with the key <code>:A</code> to align our traces.  Here we can manually set the plot limits by passing arguments via <code>axis</code>, which are then passed to <a href="https://docs.makie.org/stable/reference/blocks/axis"><code>Makie.Axis</code></a>.</p><pre><code class="language-julia hljs">t = sample_data(:array)
plot_section(t; align=:A, axis=(limits=(-10, 20, nothing, nothing),))</code></pre><img src="6b1d7909.png" alt="Example block output"/><h5 id="4.-Section,-sorted-by-distance"><a class="docs-heading-anchor" href="#4.-Section,-sorted-by-distance">4. Section, sorted by distance</a><a id="4.-Section,-sorted-by-distance-1"></a><a class="docs-heading-anchor-permalink" href="#4.-Section,-sorted-by-distance" title="Permalink"></a></h5><p>We can plot traces sorted by epicentral distance, but equally spaced along the y-axis, where traces are <a href="../function-index/#LinearAlgebra.normalize"><code>normalize</code></a>d to show how well the peaks are aligned, with the trace amplitudes scaled down by half (using the <code>zoom</code> keyword), and Makie keywords to set the y-axis label.  This time we cut the traces relative to the <code>:A</code> pick rather than setting plot limits.</p><pre><code class="language-julia hljs">ts = sort(t; by=distance_deg)
plot_section(cut.(ts, :A, -10, 10) .|&gt; normalize, &quot;index&quot;;
    align=:A, zoom=0.5, axis=(ylabel=&quot;Trace index, increasing distance&quot;,))</code></pre><img src="08dc7ecb.png" alt="Example block output"/><h5 id="5.-Section-aligned-on-predicted-phase-arrival-time"><a class="docs-heading-anchor" href="#5.-Section-aligned-on-predicted-phase-arrival-time">5. Section aligned on predicted phase arrival time</a><a id="5.-Section-aligned-on-predicted-phase-arrival-time-1"></a><a class="docs-heading-anchor-permalink" href="#5.-Section-aligned-on-predicted-phase-arrival-time" title="Permalink"></a></h5><p>If you have installed <a href="https://github.com/anowacki/SeisTau.jl">SeisTau.jl</a>, then adding predicted travel times and aligning on these becomes easy.</p><p>Here we calculate predicted times for the PKIKP arrival using <code>SeisTau</code>, called via <a href="../function-index/#Seis.add_picks!"><code>add_picks!</code></a>.</p><pre><code class="language-julia hljs">using SeisTau
add_picks!.(t, &quot;PKIKP&quot;)
plot_section(cut.(t, :PKIKP, -10, 10); align=:PKIKP)</code></pre><img src="ed44a90e.png" alt="Example block output"/><h4 id="Interactions"><a class="docs-heading-anchor" href="#Interactions">Interactions</a><a id="Interactions-1"></a><a class="docs-heading-anchor-permalink" href="#Interactions" title="Permalink"></a></h4><p>If you are using an interactive Makie backend like GLMakie, when the plot is active you can use the standard Makie interactions to change the plot:</p><ul><li>scroll to zoom</li><li>click and drag to set a new view region</li><li>right-click and drag to move the viewport</li><li>hold down the <code>x</code> or <code>y</code> key while scrolling or dragging to limit the change to be just horizontal or vertical, respectively</li><li>Ctrl-click to return the view to the original plot zoom and limits</li></ul><p>In addition, with <code>plot_section</code> you can press:</p><ul><li><code>=</code> to increase the trace amplitude</li><li><code>-</code> to decrease the trace amplitude</li></ul><h4 id="Downsampling"><a class="docs-heading-anchor" href="#Downsampling">Downsampling</a><a id="Downsampling-1"></a><a class="docs-heading-anchor-permalink" href="#Downsampling" title="Permalink"></a></h4><p>When scrolling and zooming with a <code>plot_section</code> plot, you will also note that if there are too many data points to plot, the small text &#39;Downsampled&#39; appears at the bottom right of the figure.  <code>plot_section</code> automatically reloads data into the window at either full resolution or downsampled to keep interactions quick.  Use the keyword argument <code>decimate=false</code> to turn off downsampling.</p><div class="admonition is-warning" id="Warning-cb21124abb8a5e5e"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-cb21124abb8a5e5e" title="Permalink"></a></header><div class="admonition-body"><p>If using <code>decimate=false</code> with very large datasets (many millions of points) plotting may become extremely slow or even unstable.</p></div></div><h4 id="Full-docstrings"><a class="docs-heading-anchor" href="#Full-docstrings">Full docstrings</a><a id="Full-docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#Full-docstrings" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Seis.plot_section!" href="#Seis.plot_section!"><code>Seis.plot_section!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_section!</code></pre><p>Function to plot several traces as a function of distance or some other variable on the same axis.  This can be used once you have loaded a <a href="https://docs.makie.org/stable">Makie</a> backend (e.g., via <code>using GLMakie</code>, <code>using CairoMakie</code>, etc.).</p><p>See docstrings below after loading a Makie backend for more information.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Seis.plot_section" href="#Seis.plot_section"><code>Seis.plot_section</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_section</code></pre><p>Function to plot several traces as a function of distance or some other variable on the same axis.  This can be used once you have loaded a <a href="https://docs.makie.org/stable">Makie</a> backend (e.g., via <code>using GLMakie</code>, <code>using CairoMakie</code>, etc.).</p><p>See docstrings below after loading a Makie backend for more information.</p></div></section></article><h3 id="plot_hodogram:-Particle-motion-plots"><a class="docs-heading-anchor" href="#plot_hodogram:-Particle-motion-plots"><code>plot_hodogram</code>: Particle motion plots</a><a id="plot_hodogram:-Particle-motion-plots-1"></a><a class="docs-heading-anchor-permalink" href="#plot_hodogram:-Particle-motion-plots" title="Permalink"></a></h3><p>Hododgrams, or particle motion plots, are parametric plots of two or three components of motion through time.  These can be plotted in Seis using <code>plot_hodogram</code>.</p><h4 id="Examples-3"><a class="docs-heading-anchor" href="#Examples-3">Examples</a><a class="docs-heading-anchor-permalink" href="#Examples-3" title="Permalink"></a></h4><p>Hodogram of the horizontal components of an earthquake, windowed around the P-wave arrival, showing the backazimuth to the event location, and the particle motion and backazimuth lines set to have different colours.</p><pre><code class="language-julia hljs">t = e, n, z = sample_data(:regional)[1:3]
cut!.(t, 50, 70)
plot_hodogram(e, n; backazimuth=true, lines=(color=:blue,), backazimuth_lines=(color=:red, linestyle=:dash))</code></pre><img src="f72cf68a.png" alt="Example block output"/><p>We can also create a 3D plot of the particle motion across all three components:</p><pre><code class="language-julia hljs">plot_hodogram(e, n, z)</code></pre><img src="83441222.png" alt="Example block output"/><h4 id="Full-docstring-2"><a class="docs-heading-anchor" href="#Full-docstring-2">Full docstring</a><a class="docs-heading-anchor-permalink" href="#Full-docstring-2" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Seis.plot_hodogram!" href="#Seis.plot_hodogram!"><code>Seis.plot_hodogram!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_hodogram!</code></pre><p>Function to plot the particle motion of two (in 2D) or three (in 3D) traces.  This can be used once you have loaded a <a href="https://docs.makie.org/stable">Makie</a> backed (e.g., via <code>using GLMakie</code>, <code>using CairoMakie</code>, etc.).</p><p>See docstrings below after loading a Makie backend for more information.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Seis.plot_hodogram" href="#Seis.plot_hodogram"><code>Seis.plot_hodogram</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_hodogram</code></pre><p>Function to plot the particle motion of two (in 2D) or three (in 3D) traces.  This can be used once you have loaded a <a href="https://docs.makie.org/stable">Makie</a> backed (e.g., via <code>using GLMakie</code>, <code>using CairoMakie</code>, etc.).</p><p>See docstrings below after loading a Makie backend for more information.</p></div></section></article><h2 id="Layouts"><a class="docs-heading-anchor" href="#Layouts">Layouts</a><a id="Layouts-1"></a><a class="docs-heading-anchor-permalink" href="#Layouts" title="Permalink"></a></h2><p>Makie has a powerful set of tools to create &#39;layouts&#39;—multi-panel plots with multiple axes.  (See the <a href="https://docs.makie.org/stable/tutorials/layout-tutorial">Makie layout tutorial</a>) for more.)</p><p>Seis.jl&#39;s plotting functions compose well with Makie&#39;s layout capabilities. All plotting functions can take a <a href="https://docs.makie.org/stable/explanations/plot_method_signatures#gridpositions"><code>Makie.GridPosition</code> or <code>Makie.GridSubposition</code></a> which can be accessed by indexing into a <code>Makie.Figure</code> object, like <code>fig[1,2]</code>. Passing a grid position object into the plotting functions creates a new axis (or axes) and creates the plot at that point.</p><p>In the example below, we create a complex layout showing three components of ground motion recorded at ELK on the left, zoomed-in plots of the time window around the P wave on the top right, and a particle motion plot of the</p><pre><code class="language-julia hljs">t = e, n, z = sample_data(:regional)[1:3]
window = (55, 70)
t_cut = e_cut, n_cut, z_cut = cut.(t, window...)

# Build the figure object
fig = Makie.Figure()

# Create a new grid layout with `fig[1,1]`
axisplots = plot(fig[1,1], t)

# Label the time window
for (ax, pl) in axisplots
    vspan!(ax, window...; alpha=0.5)
end

# Create a new grid position at the top right with `fig[1,2][1,1]`
axisplots_zoom = plot(fig[1,2][1,1], [e_cut, n_cut];
    ylims=:all, lines=(;color=:blue))

# Add a title to the top trace plot.
ax_zoom, _ = axisplots_zoom[1]
ax_zoom.title = &quot;P-wave arrival&quot;

# Create the final grid position at the bottom right with `fig[1,2][2,1]`
plot_hodogram(fig[1,2][2,1], e_cut, n_cut;
    backazimuth=true, axis=(;title=&quot;P-wave particle motion&quot;))
fig</code></pre><img src="5599f0a7.png" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../plotting-plots/">« Plotting with Plots.jl</a><a class="docs-footer-nextpage" href="../function-index/">Function index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Friday 22 August 2025 11:20">Friday 22 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
